<!DOCTYPE html>
<meta charset="UTF-8">
<html>
    <head>
		    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    </head>

    <body>

      	<center>
				    <h2>La Gansa 2018</h2>
						<img src="https://media.giphy.com/media/yr7n0u3qzO9nG/giphy.gif" alt="La Gansa On Fire">
				</center>

				<center>
						<div id='standings_plot' style='width:1200px;height:800px;'></div>

 						<script>
								$.getJSON("json/data.json", function(result){

										// First row is weeks
										var skipWeekRow = false;
										// Plotly array of variables
										var plotData = [];

										$.each(result, function(i, field){
												// Collect the names of the teams
												if(skipWeekRow){
														plotData.push({	x: result["weeks"],	y: field,	type: 'scatter', name: i,	});
												}
												// After the first run we star getting teams
												skipWeekRow = true;;
												// Populate the table
												var tr = $('<tr>');
												tr.append("<td>"+i+"</td>");
												for (var index = 0; index < field.length; index++) {
														tr.append("<td>" + field[index] + "</td>");
												}
												tr.append("</tr>");
												$('#showStanding').append(tr);
										});

										STANDING = document.getElementById('standings_plot');

 										var layout = {
 												title:'La Gansa Standings 2017',
												xaxis: {
											    title: 'Weeks',
													/* For future:
													titlefont: {
											      family: 'Courier New, monospace',
											      size: 18,
											      color: '#7f7f7f'
											    }*/
											  },
											  yaxis: {
											    title: 'JPoints',
											  }
										};

 										Plotly.newPlot(STANDING, plotData, layout);
								});
						</script>
				</center>

				<center>
						<br>
						<br>
						<table id="showStanding" border="1" style="font-size:12px"></table>
						<br>
						<br>
				</center>

		</body>
</html>
